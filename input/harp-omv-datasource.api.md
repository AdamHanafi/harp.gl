## API Report File for "@here/harp-omv-datasource"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import { AttributeMap } from '@here/harp-datasource-protocol';
import { CopyrightInfo } from '@here/harp-mapview';
import { CopyrightProvider } from '@here/harp-mapview';
import { DataProvider } from '@here/harp-mapview-decoder';
import { DataSource } from '@here/harp-mapview';
import { DataSourceOptions } from '@here/harp-mapview';
import { GeoJson } from '@here/harp-datasource-protocol';
import { GeometryType } from '@here/harp-datasource-protocol';
import { ITileDecoder } from '@here/harp-datasource-protocol';
import { ITiler } from '@here/harp-datasource-protocol';
import { ITransferManager } from '@here/harp-transfer-manager';
import { LineGroup } from '@here/harp-lines';
import { MapEnv } from '@here/harp-datasource-protocol/index-decoder';
import { Tile } from '@here/harp-mapview';
import { TileDataSource } from '@here/harp-mapview-decoder';
import { TileFactory } from '@here/harp-mapview-decoder';
import { TileKey } from '@here/harp-geoutils';
import { TileKey as TileKey_2 } from '@here/harp-geoutils/lib/tiling/TileKey';
import { TilingScheme } from '@here/harp-geoutils';
import { Value } from '@here/harp-datasource-protocol/index-decoder';

// @public (undocumented)
export enum APIFormat {
    HereV1 = 0,
    MapboxV4 = 1,
    TomtomV1 = 5,
    XYZJson = 3,
    XYZMVT = 2,
    XYZOMV = 4,
    XYZSpace = 6
}

// @public
export type AuthenticationCodeProvider = () => Promise<string>;

// @public (undocumented)
export enum AuthenticationMethod {
    // (undocumented)
    AuthorizationHeader = 1,
    // (undocumented)
    QueryString = 0
}

// @public (undocumented)
export interface AuthenticationMethodInfo {
    // (undocumented)
    method: AuthenticationMethod;
    // (undocumented)
    name?: string;
}

// @public (undocumented)
export const AuthenticationTypeAccessToken: AuthenticationMethodInfo;

// @public
export const AuthenticationTypeBearer: AuthenticationMethodInfo;

// @public
export const AuthenticationTypeTomTomV1: AuthenticationMethodInfo;

// @public
export class ComposedDataFilter implements OmvFeatureFilter {
    constructor(filters: OmvFeatureFilter[]);
    // (undocumented)
    readonly filters: OmvFeatureFilter[];
    // (undocumented)
    get hasKindFilter(): boolean;
    // (undocumented)
    wantsKind(kind: string | string[]): boolean;
    // (undocumented)
    wantsLayer(layer: string, level: number): boolean;
    // (undocumented)
    wantsLineFeature(layer: string, geometryType: OmvGeometryType, level: number): boolean;
    // (undocumented)
    wantsPointFeature(layer: string, geometryType: OmvGeometryType, level: number): boolean;
    // (undocumented)
    wantsPolygonFeature(layer: string, geometryType: OmvGeometryType, level: number): boolean;
}

// @public
export enum FeatureModifierId {
    default = 0,
    tomTom = 1
}

// @public
export class GeoJsonDataProvider implements DataProvider {
    constructor(name: string, input: URL | GeoJson, options?: GeoJsonDataProviderOptions);
    // (undocumented)
    connect(): Promise<void>;
    // (undocumented)
    getTile(tileKey: TileKey): Promise<{}>;
    // (undocumented)
    input: URL | GeoJson;
    // (undocumented)
    readonly name: string;
    // (undocumented)
    ready(): boolean;
    // (undocumented)
    updateInput(input: URL | GeoJson): void;
}

// @public (undocumented)
export interface GeoJsonDataProviderOptions {
    tiler?: ITiler;
    workerTilerUrl?: string;
}

// @public (undocumented)
export interface LinesGeometry {
    featureStarts?: number[];
    // (undocumented)
    lines: LineGroup;
    objInfos?: AttributeMap[];
    // (undocumented)
    technique: number;
    // (undocumented)
    type: GeometryType;
}

// @public
export const OMV_TILE_DECODER_SERVICE_TYPE = "omv-tile-decoder";

// @public
export const OMV_TILER_SERVICE_TYPE = "omv-tiler";

// @public (undocumented)
export class OmvDataSource extends TileDataSource<OmvTile> {
    constructor(m_params: OmvWithRestClientParams | OmvWithCustomDataProvider);
    // @override (undocumented)
    connect(): Promise<void>;
    removeDataFilter(): void;
    setDataFilter(filterDescription: OmvFeatureFilterDescription): void;
    // @override (undocumented)
    setEnableElevationOverlay(enable: boolean): void;
    // @override (undocumented)
    setLanguages(languages?: string[]): void;
    // @override (undocumented)
    setPoliticalView(politicalView?: string): void;
    // @override (undocumented)
    shouldPreloadTiles(): boolean;
    // @override (undocumented)
    get storageLevelOffset(): number;
    set storageLevelOffset(levelOffset: number);
}

// @public (undocumented)
export interface OmvDataSourceParameters extends DataSourceOptions {
    addGroundPlane?: boolean;
    concurrentDecoderScriptUrl?: string;
    copyrightInfo?: CopyrightInfo[];
    copyrightProvider?: CopyrightProvider;
    // @deprecated (undocumented)
    createTileInfo?: boolean;
    dataProvider?: DataProvider;
    decoder?: ITileDecoder;
    enableElevationOverlay?: boolean;
    featureModifierId?: FeatureModifierId;
    filterDescr?: OmvFeatureFilterDescription;
    gatherFeatureAttributes?: boolean;
    gatherFeatureIds?: boolean;
    // @deprecated (undocumented)
    gatherRoadSegments?: boolean;
    maxGeometryHeight?: number;
    politicalView?: string;
    showMissingTechniques?: boolean;
    skipShortLabels?: boolean;
    tileFactory?: TileFactory<OmvTile>;
}

// @public (undocumented)
export class OmvDebugLabelsTile extends OmvTile {
    constructor(dataSource: DataSource, tileKey: TileKey_2);
    // @override (undocumented)
    loadingFinished(): void;
}

// @public
export interface OmvDecoderOptions {
    // @deprecated (undocumented)
    createTileInfo?: boolean;
    // (undocumented)
    enableElevationOverlay?: boolean;
    featureModifiers?: FeatureModifierId[];
    filterDescription?: OmvFeatureFilterDescription | null;
    gatherFeatureAttributes?: boolean;
    // @deprecated (undocumented)
    gatherRoadSegments?: boolean;
    politicalView?: string;
    showMissingTechniques?: boolean;
    skipShortLabels?: boolean;
    storageLevelOffset?: number;
}

// @public
export interface OmvFeatureFilter {
    hasKindFilter: boolean;
    wantsKind(kind: string | string[]): boolean;
    wantsLayer(layer: string, level: number): boolean;
    wantsLineFeature(layer: string, geometryType: OmvGeometryType, level: number): boolean;
    wantsPointFeature(layer: string, geometryType: OmvGeometryType, level: number): boolean;
    wantsPolygonFeature(layer: string, geometryType: OmvGeometryType, level: number): boolean;
}

// @public
export interface OmvFeatureFilterDescription {
    // (undocumented)
    kindsToIgnore: string[];
    // (undocumented)
    kindsToProcess: string[];
    // (undocumented)
    layersToIgnore: OmvLayerFilterDescription[];
    // (undocumented)
    layersToProcess: OmvLayerFilterDescription[];
    // (undocumented)
    linesToIgnore: OmvFilterDescription[];
    // (undocumented)
    linesToProcess: OmvFilterDescription[];
    // (undocumented)
    pointsToIgnore: OmvFilterDescription[];
    // (undocumented)
    pointsToProcess: OmvFilterDescription[];
    // (undocumented)
    polygonsToIgnore: OmvFilterDescription[];
    // (undocumented)
    polygonsToProcess: OmvFilterDescription[];
    // (undocumented)
    processLayersDefault: boolean;
    // (undocumented)
    processLinesDefault: boolean;
    // (undocumented)
    processPointsDefault: boolean;
    // (undocumented)
    processPolygonsDefault: boolean;
}

// @public
export class OmvFeatureFilterDescriptionBuilder {
    constructor(options?: OmvFeatureFilterDescriptionBuilder.OmvFeatureFilterDescriptionBuilderOptions);
    createDescription(): OmvFeatureFilterDescription;
    ignoreKinds(disabledKinds: string[]): void;
    ignoreLayer(layer: string, match?: OmvFilterString.StringMatch, minLevel?: number, maxLevel?: number): void;
    ignoreLine(options: OmvFeatureFilterDescriptionBuilder.FeatureOption): void;
    ignoreLines(options: OmvFeatureFilterDescriptionBuilder.MultiFeatureOption): void;
    ignorePoint(options: OmvFeatureFilterDescriptionBuilder.FeatureOption): void;
    ignorePoints(options: OmvFeatureFilterDescriptionBuilder.MultiFeatureOption): void;
    ignorePolygon(options: OmvFeatureFilterDescriptionBuilder.FeatureOption): void;
    ignorePolygons(options: OmvFeatureFilterDescriptionBuilder.MultiFeatureOption): void;
    processKinds(enabledKinds: string[]): void;
    processLayer(layer: string, match?: OmvFilterString.StringMatch, minLevel?: number, maxLevel?: number): void;
    processLine(options: OmvFeatureFilterDescriptionBuilder.FeatureOption): void;
    processLines(options: OmvFeatureFilterDescriptionBuilder.MultiFeatureOption): void;
    processPoint(options: OmvFeatureFilterDescriptionBuilder.FeatureOption): void;
    processPoints(options: OmvFeatureFilterDescriptionBuilder.MultiFeatureOption): void;
    processPolygon(options: OmvFeatureFilterDescriptionBuilder.FeatureOption): void;
    processPolygons(options: OmvFeatureFilterDescriptionBuilder.MultiFeatureOption): void;
}

// @public (undocumented)
export namespace OmvFeatureFilterDescriptionBuilder {
    export interface FeatureOption {
        featureAttribute?: OmvFilterFeatureAttribute;
        featureClass: string;
        geomType: OmvGeometryType | OmvGeometryType[] | undefined;
        layer: string;
        matchClass?: OmvFilterString.StringMatch;
        matchLayer?: OmvFilterString.StringMatch;
        maxLevel?: number;
        minLevel?: number;
    }
    export interface MultiFeatureOption {
        featureAttribute?: OmvFilterFeatureAttribute;
        featureClasses?: OmvFilterString[];
        geomTypes?: OmvGeometryType | OmvGeometryType[] | undefined;
        layer: string;
        matchLayer?: OmvFilterString.StringMatch;
        maxLevel?: number;
        minLevel?: number;
    }
    export interface OmvFeatureFilterDescriptionBuilderOptions {
        processLayersDefault?: boolean;
        processLinesDefault?: boolean;
        processPointsDefault?: boolean;
        processPolygonsDefault?: boolean;
    }
}

// @public
export interface OmvFeatureModifier {
    doProcessLineFeature(layer: string, env: MapEnv, level: number): boolean;
    doProcessPointFeature(layer: string, env: MapEnv, level: number): boolean;
    doProcessPolygonFeature(layer: string, env: MapEnv, level: number): boolean;
}

// @public
export interface OmvFilterDescription {
    // (undocumented)
    classes?: OmvFilterString[];
    // (undocumented)
    featureAttribute?: OmvFilterFeatureAttribute;
    // (undocumented)
    geometryTypes?: OmvGeometryType[];
    // (undocumented)
    layerName: OmvFilterString;
    // (undocumented)
    maxLevel: number;
    // (undocumented)
    minLevel: number;
}

// @public
export interface OmvFilterFeatureAttribute {
    // (undocumented)
    key: string;
    // (undocumented)
    value: Value;
}

// @public
export interface OmvFilterString {
    match: OmvFilterString.StringMatch;
    value: string;
}

// @public
export namespace OmvFilterString {
    export function matchString(str: string, filterString: OmvFilterString): boolean;
    export enum StringMatch {
        Any = 0,
        Contains = 3,
        EndsWith = 4,
        Match = 1,
        StartsWith = 2
    }
}

// @public
export class OmvGenericFeatureFilter implements OmvFeatureFilter {
    constructor(description: OmvFeatureFilterDescription);
    // (undocumented)
    get hasKindFilter(): boolean;
    // (undocumented)
    wantsKind(kind: string | string[]): boolean;
    // (undocumented)
    wantsLayer(layer: string, level: number): boolean;
    // (undocumented)
    wantsLineFeature(layer: string, geometryType: OmvGeometryType, level: number): boolean;
    // (undocumented)
    wantsPointFeature(layer: string, geometryType: OmvGeometryType, level: number): boolean;
    // (undocumented)
    wantsPolygonFeature(layer: string, geometryType: OmvGeometryType, level: number): boolean;
}

// @public
export class OmvGenericFeatureModifier implements OmvFeatureModifier {
    constructor(description: OmvFeatureFilterDescription);
    // (undocumented)
    protected doProcessFeature(itemsToProcess: OmvFilterDescription[], itemsToIgnore: OmvFilterDescription[], layer: string, env: MapEnv, defaultResult: boolean): boolean;
    // (undocumented)
    doProcessLineFeature(layer: string, env: MapEnv): boolean;
    // (undocumented)
    doProcessPointFeature(layer: string, env: MapEnv): boolean;
    // (undocumented)
    doProcessPolygonFeature(layer: string, env: MapEnv): boolean;
    // (undocumented)
    static matchAttribute(layerName: string, env: MapEnv, items: OmvFilterDescription[]): boolean;
    // (undocumented)
    static matchItems(layerName: string, featureClass: string, items: OmvFilterDescription[]): boolean;
}

// @public (undocumented)
export enum OmvGeometryType {
    // (undocumented)
    LINESTRING = 2,
    // (undocumented)
    POINT = 1,
    // (undocumented)
    POLYGON = 3,
    // (undocumented)
    UNKNOWN = 0
}

// @public
export interface OmvLayerFilterDescription {
    // (undocumented)
    maxLevel: number;
    // (undocumented)
    minLevel: number;
    // (undocumented)
    name: OmvFilterString;
}

// @public
export class OmvRestClient implements DataProvider {
    constructor(params: OmvRestClientParameters);
    connect(): Promise<void>;
    getTile(tileKey: TileKey, abortSignal?: AbortSignal | undefined): Promise<ArrayBufferLike | {}>;
    // (undocumented)
    readonly params: OmvRestClientParameters;
    ready(): boolean;
    }

// @public (undocumented)
export interface OmvRestClientParameters {
    apiFormat?: APIFormat;
    authenticationCode?: string | AuthenticationCodeProvider;
    authenticationMethod?: AuthenticationMethodInfo;
    baseUrl?: string;
    downloadManager?: ITransferManager;
    // @deprecated
    getBearerToken?: () => Promise<string>;
    tilingScheme?: TilingScheme;
    url?: string;
    urlParams?: {
        [key: string]: string;
    };
}

// @public (undocumented)
export class OmvTile extends Tile {
    constructor(dataSource: DataSource, tileKey: TileKey);
}

// @public (undocumented)
export interface OmvTileFactory {
    createTile(dataSource: OmvDataSource, tileKey: TileKey): OmvTile;
}

// @public (undocumented)
export type OmvWithCustomDataProvider = OmvDataSourceParameters & {
    dataProvider: DataProvider;
};

// @public (undocumented)
export type OmvWithRestClientParams = OmvRestClientParameters & OmvDataSourceParameters;


```
